<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>星露谷物语四季日历</title>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6e8e6e 0%, #a3c1a3 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            position: relative; /* 新增：为容器创建新的定位上下文 */
        }
        
        header {
            background: #4a6b4a;
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 15px 15px 0 0; /* 新增：只设置左上和右上圆角 */
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .description {
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: #e0f0e0;
        }
        
        .controls {
            background: #5a7c5a;
            padding: 10px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .control-group {
            margin: 5px 15px;
            display: flex;
            align-items: center;
        }
        
        .control-label {
            color: white;
            margin-right: 8px;
            font-size: 0.9rem;
        }
        
        .control-label a {
            color: #a3e4d7;
            text-decoration: none;
        }
        
        .control-label a:hover {
            text-decoration: underline;
        }
        
        .tabs {
            display: flex;
            background: #5a7c5a;
            overflow-x: auto;
            position: -webkit-sticky; /* 针对 Safari 的供应商前缀 */
            position: sticky; /* 新增：使选项卡栏具有粘性定位 */
            top: 0; /* 新增：距离顶部0像素时固定 */
            z-index: 1000; /* 新增：确保选项卡栏在其他内容之上 */
            border-radius: 0; /* 添加上部圆角 */
            width: 100%;
        }
        
        .tab-button {
            padding: 15px 25px;
            background: #5a7c5a;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            flex: 1;
            min-width: 120px;
            transition: background 0.3s;
        }
        
        .tab-button:hover {
            background: #6d8e6d;
        }
        
        .tab-button.active {
            background: #7ca37c;
            font-weight: bold;
        }
        
        .calendar-container {
            padding: 20px;
            overflow-x: auto;
            padding-top: 70px
        }
        
        .calendar {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            min-width: 800px;
        }
        
        .calendar th {
            background: #7ca37c;
            color: white;
            padding: 12px;
            text-align: center;
            min-width: 100px;
        }
        
        .calendar td {
            border: 1px solid #d0dec2;
            padding: 8px;
            height: 140px;
            vertical-align: top;
            width: 14.28%;
            min-width: 100px;
        }
        
        .day-number {
            font-weight: bold;
            font-size: 1.2rem;
            color: #4a6b4a;
            margin-bottom: 5px;
            display: block;
            text-align: left;
        }
        
        .shop-row {
            background: #f0f8f0;
            font-size: 0.85rem;
            text-align: center;
        }
        
        .shop-row td {
            height: auto;
            padding: 5px;
            vertical-align: middle;
            min-width: 100px;
        }
        
        .birthday {
            background: #d4e8ff;
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            display: inline-block;
            font-size: 0.9rem;
            position: relative;
        }
        
        .birthday a {
            color: #1565c0;
            text-decoration: none;
        }
        
        .birthday a:hover {
            text-decoration: underline;
        }
        
        .birthday-tooltip {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #fff;
            border: 1px solid #ccc;
            padding: 8px;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            width: 220px;
            z-index: 100;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        /* 当提示框在右侧边缘时调整位置 */
        .birthday-tooltip.right-edge {
            left: auto;
            right: 0;
            transform: none;
        }

        /* 当提示框在左侧边缘时调整位置 */
        .birthday-tooltip.left-edge {
            left: 0;
            transform: none;
        }

        /* 当提示框在顶部边缘时调整位置 */
        .birthday-tooltip.top-edge {
            bottom: auto;
            top: 100%;
        }

        .birthday:hover .birthday-tooltip {
            display: block;
        }
        
        .favorite-items, .liked-items {
            margin-top: 5px;
        }
        
        .favorite-title, .liked-title {
            font-weight: bold;
            color: #c41e3a;
        }
        
        .liked-title {
            color: 1976d2;
        }
        
        .festival {
            background: #ffe4e4;
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 0.9rem;
            display: block;
        }
        
        .festival a {
            color: #d32f2f;
            text-decoration: none;
        }
        
        .festival a:hover {
            text-decoration: underline;
        }
        
        .travel-cart {
            background: #d8bfd8;
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 0.9rem;
            display: block;
        }
        
        /* 在 CSS 中添加以下样式 */
        .crop-planting {
            background: #e8f5e9;
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 0.9rem;
            display: block;
        }

        .crop-planting a {
            color: #2e7d32;
            text-decoration: none;
        }

        .crop-planting a:hover {
            text-decoration: underline;
        }

        /* 在CSS中添加科罗布斯商店的样式 */
        .krobus-shop {
            background: #e6e6fa; /* 淡紫色 */
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 0.8rem;
            display: block;
}

        /* 在CSS中添加采集事件的样式 */
        /* 修改采集事件的样式为桃红色系 */
        /* 修改采集事件的样式为淡桃红色系，去掉悬停变色 */
        .foraging-event {
            background: #ffd1dc; /* 淡桃红色 */
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 0.9rem;
            display: block;
        }

        .foraging-event a {
            color: #d13c74; /* 中等桃红色 */
            text-decoration: none;
        }

        .foraging-event a:hover {
            text-decoration: underline;
            /* 去掉颜色变化，保持与正常状态相同 */
            color: #d87093;
        }

        .oasis-shop {
            background: #d4edda;
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 0.8rem;
            display: block;
        }
        
        .desert-merchant {
            background: #fff9d6;
            padding: 3px 6px;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 0.8rem;
            display: block;
        }
        
        .empty-space {
            height: 18px;
            display: block;
        }
        
        .export-btn {
            display: block;
            margin: 20px auto;
            padding: 12px 25px;
            background: #4a6b4a;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background 0.3s;
        }
        
        .export-btn:hover {
            background: #5a7c5a;
        }
        
        footer {
            text-align: center;
            padding: 15px;
            color: #4a6b4a;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .footer-info {
            margin: 5px 0;
        }
        
        @media (max-width: 768px) {
            .calendar td {
                height: 120px;
                padding: 5px;
                font-size: 0.8rem;
            }
            
            .day-number {
                font-size: 1rem;
            }
            
            .shop-row td {
                padding: 3px;
                font-size: 0.7rem;
            }
            
            .oasis-shop, .desert-merchant {
                font-size: 0.7rem;
            }

.footer-info a {
    color: #4a6b4a;
    text-decoration: none;
    transition: color 0.3s;
}

.footer-info a:hover {
    color: #3a553a;
    text-decoration: underline;
}

        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>星露谷物语四季日历</h1>
            <p class="description">查看四季日历、角色生日、节日活动及商店信息</p>
            <p class="description">本界面显示的作物最晚种植时间中肥料和农业学家技能没有被计算在内。如需查阅，可点击作物名称并在<a href="https://zh.stardewvalleywiki.com/" target="_blank">星露谷wiki</a>的界面查阅。</p>
        </header>
        
        <div class="controls">
            <div class="control-group">
                <span class="control-label">显示选项：</span>
                <label class="control-label">
                    <input type="checkbox" id="showOasis" checked> <a href="https://zh.stardewvalleywiki.com/%E7%BB%BF%E6%B4%B2" target="_blank">绿洲商店</a>
                </label>
                <label class="control-label">
                    <input type="checkbox" id="showDesert" checked> <a href="https://zh.stardewvalleywiki.com/%E6%B2%99%E6%BC%A0%E5%95%86%E4%BA%BA" target="_blank">沙漠商人</a>
                <!-- 在显示选项部分添加以下代码 -->
                <label class="control-label">
                    <input type="checkbox" id="showKrobus" checked> <a href="https://zh.stardewvalleywiki.com/科罗布斯" target="_blank">科罗布斯商店</a>
                </label>
                </label>
                <!-- 在显示选项部分添加以下代码 -->
                <label class="control-label">
                    <input type="checkbox" id="showForaging" checked> 采集事件
                </label>
                <!-- 在 controls 部分添加以下代码 -->
                <label class="control-label">  
                  <input type="checkbox" id="showCropPlanting" checked> <a href="https://zh.stardewvalleywiki.com/农作物" target="_blank">作物最晚种植时间</a>
                </label>
                <label class="control-label">
                    <input type="checkbox" id="showBirthday" checked> 角色生日
                </label>
                <label class="control-label">
                    <input type="checkbox" id="showFestival" checked> 节日活动
                </label>
                <label class="control-label">
                    <input type="checkbox" id="showTravelCart" checked> 旅行货车
                </label>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('spring')">春季</button>
            <button class="tab-button" onclick="showTab('summer')">夏季</button>
            <button class="tab-button" onclick="showTab('fall')">秋季</button>
            <button class="tab-button" onclick="showTab('winter')">冬季</button>
        </div>
        
        <div class="calendar-container">
            <!-- 春季日历 -->
            <div id="spring-calendar" class="tab-content">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>星期一</th>
                            <th>星期二</th>
                            <th>星期三</th>
                            <th>星期四</th>
                            <th>星期五</th>
                            <th>星期六</th>
                            <th>星期日</th>
                        </tr>
                    </thead>
                    <tbody class="shop-row">
                        <td>
                            <span class="oasis-shop">椰子/200G（限10）<br>大号木屋地毯/2000G</span>
                            <span class="desert-merchant">3干草/1万象晶球</span>
                            <span class="krobus-shop">史莱姆泥/10G（限50）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">仙人掌果子/150G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">纤维/5石头</span>
                            <span class="krobus-shop">万象晶球/300G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">万象晶球/500G（限3）<br>长版《翡翠山》/5000G</span>
                            <span class="desert-merchant">布料/3海蓝宝石</span>
                            <span class="krobus-shop">鱼或磁铁/200G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级生长激素/80G<br>古典地毯/2500G</span>
                            <span class="desert-merchant">魔法糖冰棍/3五彩碎片（限1）</span>
                            <span class="krobus-shop">混合种子/30G（限10）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">蜂蜜/200G<br>大号绿色地毯/2500G</span>
                            <span class="desert-merchant">奶酪/1绿宝石</span>
                            <span class="krobus-shop">铱制洒水器/10000G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级保湿土壤/200G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">春季种子/2夏季种子<br>夏季种子/2秋季种子<br>秋季种子/2冬季种子<br>冬季种子/2春季种子</span>
                            <span class="krobus-shop">菜肴/50-500G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">冰淇淋/240G<br>棕色长沙发/3000G</span>
                            <span class="desert-merchant">楼梯/1翡翠</span>
                            <span class="krobus-shop">蝙蝠翅膀/30G（限10）</span>
                        </td>
                    </tbody>
                    <tbody>
                        <tr>
                            <td>
                                <span class="day-number">1</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">2</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">3</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">4</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E8%82%AF%E7%89%B9" target="_blank">肯特</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 烤榛子, 意式蕨菜炖饭，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 黄水仙，矮人安全手册，所有普遍喜欢的礼物（除了海藻汤、椰林飘香、生鱼片、墨西哥薄饼），所有蛋类(除虚无蛋), 所有水果</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">5</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">6</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">7</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%88%98%E6%98%93%E6%96%AF" target="_blank">刘易斯</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 琉璃山药, 秋日恩赐, 辣椒，绿茶，蔬菜杂烩，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 椰子, 仙人掌果子, 蓝莓, 所有普遍喜欢的礼物</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="empty-space"></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">8</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">9</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">10</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E6%96%87%E6%A3%AE%E7%89%B9" target="_blank">文森特</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 粉色蛋糕, 蔓越莓糖果, 葡萄，青蛙蛋，姜汁汽水，蜗牛，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 椰子, 黄水仙，所有奶类，所有普遍喜欢的礼物（除了椰林飘香、三倍浓缩咖啡、蔬菜、不包括蜂蜜和果酱和油在内的工匠物品）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">11</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">12</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">13</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/复活节" target="_blank">复活节</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">14</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="empty-space"></span>
                            </td>
                        </tr>
                        <tr>
                            <!-- 在春季日历的第15-18日添加采集事件 -->
                            <td>
                                <span class="day-number">15</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/沙漠节" target="_blank">沙漠节</a></span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/美洲大树莓" target="_blank">美洲大树莓</a></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/大黄" target="_blank">大黄</a></span>
                            </td>
                            <td>
                                <span class="day-number">16</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/沙漠节" target="_blank">沙漠节</a></span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/美洲大树莓" target="_blank">美洲大树莓</a></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/花椰菜" target="_blank">花椰菜</a></span>
                            </td>
                            <td>
                                <span class="day-number">17</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/沙漠节" target="_blank">沙漠节</a></span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/美洲大树莓" target="_blank">美洲大树莓</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">18</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E6%BD%98%E5%A7%86" target="_blank">潘姆</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 防风草汤, 琉璃山药, 淡啤酒, 啤酒, 防风草, 仙人掌果子，蜂蜜酒，椰林飘香，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 所有奶类，所有水果（除了仙人掌果子），所有普遍喜欢的礼物</div>
                                    </div>
                                </span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/美洲大树莓" target="_blank">美洲大树莓</a></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/青豆" target="_blank">青豆</a></span>
                            </td>
                            <td>
                                <span class="day-number">19</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">20</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E8%B0%A2%E6%81%A9" target="_blank">谢恩</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 披萨, 爆炒辣椒, 啤酒, 辣椒，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 所有普遍喜欢的礼物（除了腌菜），所有鸡蛋（除了虚空蛋），所有水果（除了辣椒）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/草莓" target="_blank">草莓</a></span>
                            </td>
                            <td>
                                <span class="day-number">21</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/蓝爵" target="_blank">蓝爵</a></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">22</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/甘蓝菜" target="_blank">甘蓝菜</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/土豆" target="_blank">土豆</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/郁金香" target="_blank">郁金香</a></span>
                            </td>
                            <td>
                                <span class="day-number">23</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">24</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/%E8%8A%B1%E8%88%9E%E8%8A%82" target="_blank">花舞节</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/防风草" target="_blank">防风草</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/蒜" target="_blank">蒜</a></span>
                            </td>
                            <td>
                                <span class="day-number">25</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">26</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E7%9A%AE%E5%9F%83%E5%B0%94" target="_blank">皮埃尔</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 炸鱿鱼，价格目录，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 黄水仙，蒲公英，所有普遍喜欢的礼物（除了玉米、蒜、可采集矿物、不包括钻石和五彩碎片在内的宝石、防风草汤、墨西哥薄饼），所有蛋（除了虚空蛋），所有奶类</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">27</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E8%89%BE%E7%B1%B3%E4%B8%BD" target="_blank">艾米丽</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 救生汉堡, 翡翠, 海蓝宝石, 紫水晶, 红宝石, 黄水晶, 绿宝石，布料, 动物毛，鹦鹉蛋，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 黄水仙，石英，所有普遍喜欢的礼物（除了鱼肉卷、炒鳗鱼、冰淇淋、生鱼寿司、大米布丁、鲑鱼晚餐、香辣鳗鱼、生鱼片）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">28</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="empty-space"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- 其他季节日历省略以保持简洁 -->
            <div id="summer-calendar" class="tab-content" style="display:none;">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>星期一</th>
                            <th>星期二</th>
                            <th>星期三</th>
                            <th>星期四</th>
                            <th>星期五</th>
                            <th>星期六</th>
                            <th>星期日</th>
                        </tr>
                    </thead>
                    <tbody class="shop-row">
                        <td>
                            <span class="oasis-shop">椰子/200G（限10）<br>大号木屋地毯/2000G</span>
                            <span class="desert-merchant">3干草/1万象晶球</span>
                            <span class="krobus-shop">史莱姆泥/10G（限50）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">仙人掌果子/150G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">纤维/5石头</span>
                            <span class="krobus-shop">万象晶球/300G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">万象晶球/500G（限3）<br>长版《翡翠山》/5000G</span>
                            <span class="desert-merchant">布料/3海蓝宝石</span>
                            <span class="krobus-shop">鱼或磁铁/200G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级生长激素/80G<br>古典地毯/2500G</span>
                            <span class="desert-merchant">魔法糖冰棍/3五彩碎片（限1）</span>
                            <span class="krobus-shop">混合种子/30G（限10）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">蜂蜜/200G<br>大号绿色地毯/2500G</span>
                            <span class="desert-merchant">奶酪/1绿宝石</span>
                            <span class="krobus-shop">铱制洒水器/10000G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级保湿土壤/200G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">春季种子/2夏季种子<br>夏季种子/2秋季种子<br>秋季种子/2冬季种子<br>冬季种子/2春季种子</span>
                            <span class="krobus-shop">菜肴/50-500G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">冰淇淋/240G<br>棕色长沙发/3000G</span>
                            <span class="desert-merchant">楼梯/1翡翠</span>
                            <span class="krobus-shop">蝙蝠翅膀/30G（限10）</span>
                        </td>
                    </tbody>
                    <tbody>
                        <tr>
                            <td>
                                <span class="day-number">1</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">2</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">3</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">4</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E8%B4%BE%E6%96%AF" target="_blank">贾斯</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 粉红蛋糕, 葡萄干布丁, 玫瑰仙子，仙女盒，古代玩偶，诡异玩偶（黄/绿），所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 椰子, 黄水仙，所有普遍喜欢的礼物（除了椰林飘香、三倍浓缩咖啡、蔬菜、不包括蜂蜜和果酱和油在内的工匠物品），所有奶类</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">5</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">6</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">7</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">8</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E6%A0%BC%E6%96%AF" target="_blank">格斯</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 钻石，法式田螺，鱼肉卷，橙子，热带咖喱，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 黄水仙，松露，所有普遍喜欢的礼物（除了卷心菜沙拉）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">9</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">10</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E7%8E%9B%E9%B2%81" target="_blank">玛鲁</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 电池组，花椰菜，乳酪花椰菜，钻石，矮人小工具，金锭，铱锭，矿工特供，爆炒青椒，放射性矿锭，大黄派，草莓，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 鸡油菌，羊肚菌，铜锭，铁锭，熔岩菇，橡树树脂，松焦油，紫蘑菇，石英，放射性矿石，所有普遍喜欢的礼物（除了蜂蜜、枫糖浆、腌菜）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">11</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/%E5%A4%8F%E5%A8%81%E5%A4%B7%E5%AE%B4%E4%BC%9A" target="_blank">夏威夷宴会</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                           <!-- 在夏季日历的第12-14日添加采集事件 -->
                            <td>
                                <span class="day-number">12</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/沙滩#夏季采集奖励" target="_blank">沙滩采集奖励</a></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">13</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/亚历克斯" target="_blank">亚历克斯</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 完美早餐, 鲑鱼晚餐，铜墙铁壁，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 工作小食，恐龙蛋，鹦鹉蛋，所有普遍喜欢的礼物，所有蛋（除了虚空蛋）</div>
                                    </div>
                                </span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/沙滩#夏季采集奖励" target="_blank">沙滩采集奖励</a></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">14</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/沙滩#夏季采集奖励" target="_blank">沙滩采集奖励</a></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">15</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/杨桃" target="_blank">杨桃</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/蓝莓" target="_blank">蓝莓</a></span>
                            </td>
                            <td>
                                <span class="day-number">16</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/甜瓜" target="_blank">甜瓜</a></span>
                            </td>
                            <td>
                                <span class="day-number">17</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%B1%B1%E5%A7%86" target="_blank">山姆</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 仙人掌果子, 披萨，枫糖棒，虎眼石，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> Joja可乐，所有普遍喜欢的礼物（除了鸭蛋黄酱、蛋黄酱、腌菜、蔬菜），所有蛋（除了虚空蛋）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/西红柿" target="_blank">西红柿</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/啤酒花" target="_blank">啤酒花</a></span>
                            </td>
                            <td>
                                <span class="day-number">18</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/咖啡豆" target="_blank">咖啡豆</a></span>
                            </td>
                            <td>
                                <span class="day-number">19</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%BE%B7%E7%B1%B3%E7%89%B9%E9%87%8C%E5%8E%84%E6%96%AF" target="_blank">德米特里厄斯</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 豆类火锅, 大米布丁, 冰淇淋, 草莓，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 紫蘑菇，恐龙蛋，所有普遍喜欢的礼物，所有蛋类（除了虚空蛋），所有水果（除了草莓）</div>
                                    </div>
                                </span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/红叶卷心菜" target="_blank">红叶卷心菜</a></span>
                            </td>
                            <td>
                                <span class="day-number">20</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/鳟鱼大赛" target="_blank">鳟鱼大赛</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/夏季亮片" target="_blank">夏季亮片</a></span>
                            </td>
                            <td>
                                <span class="day-number">21</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/鳟鱼大赛" target="_blank">鳟鱼大赛</a></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/虞美人花" target="_blank">虞美人花</a></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">22</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E7%9F%AE%E4%BA%BA" target="_blank">矮人</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 翡翠, 海蓝宝石, 红宝石, 紫水晶, 黄水晶, 绿宝石, 万象晶球，柠檬石，岩浆鳗鱼，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 山洞萝卜，石英，所有普遍喜欢的礼物，所有古物</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/萝卜" target="_blank">萝卜</a></span>
                            </td>
                            <td>
                                <span class="day-number">23</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/辣椒" target="_blank">辣椒</a></span>
                            </td>
                            <td>
                                <span class="day-number">24</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%A8%81%E5%88%A9" target="_blank">威利</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 鲶鱼, 章鱼, 海参, 鲟鱼, 南瓜, 钻石, 铱锭，金锭，蜂蜜酒，捕蟹秘籍，海之宝石，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 鱼饵和浮漂，石英，蛇齿单线鱼，虎纹鳟鱼，烤鱼，惊喜鲤鱼，法式田螺，海鲜杂烩汤，蟹黄糕，香酥鲈鱼，烩鱼汤，鱼肉卷，炸鱿鱼，炒鳗鱼，龙虾浓汤，鲑鱼晚餐，海泡布丁，鳟鱼汤，所有普遍喜欢的礼物（除了生命药水和他不喜欢的鱼类菜肴：海之菜肴、生鱼寿司、生鱼片）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">25</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">26</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">27</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">28</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/月光水母起舞" target="_blank">月光水母起舞</a></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/上古水果" target="_blank">上古水果</a></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- 秋季日历 -->
            <div id="fall-calendar" class="tab-content" style="display:none;">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>星期一</th>
                            <th>星期二</th>
                            <th>星期三</th>
                            <th>星期四</th>
                            <th>星期五</th>
                            <th>星期六</th>
                            <th>星期日</th>
                        </tr>
                    </thead>
                    <tbody class="shop-row">
                        <td>
                            <span class="oasis-shop">椰子/200G（限10）<br>大号木屋地毯/2000G</span>
                            <span class="desert-merchant">3干草/1万象晶球</span>
                            <span class="krobus-shop">史莱姆泥/10G（限50）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">仙人掌果子/150G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">纤维/5石头</span>
                            <span class="krobus-shop">万象晶球/300G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">万象晶球/500G（限3）<br>长版《翡翠山》/5000G</span>
                            <span class="desert-merchant">布料/3海蓝宝石</span>
                            <span class="krobus-shop">鱼或磁铁/200G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级生长激素/80G<br>古典地毯/2500G</span>
                            <span class="desert-merchant">魔法糖冰棍/3五彩碎片（限1）</span>
                            <span class="krobus-shop">混合种子/30G（限10）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">蜂蜜/200G<br>大号绿色地毯/2500G</span>
                            <span class="desert-merchant">奶酪/1绿宝石</span>
                            <span class="krobus-shop">铱制洒水器/10000G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级保湿土壤/200G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">春季种子/2夏季种子<br>夏季种子/2秋季种子<br>秋季种子/2冬季种子<br>冬季种子/2春季种子</span>
                            <span class="krobus-shop">菜肴/50-500G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">冰淇淋/240G<br>棕色长沙发/3000G</span>
                            <span class="desert-merchant">楼梯/1翡翠</span>
                            <span class="krobus-shop">蝙蝠翅膀/30G（限10）</span>
                        </td>
                    </tbody>
                    <tbody>
                        <tr>
                            <td>
                                <span class="day-number">1</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">2</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">3</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">4</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/宝石甜莓" target="_blank">宝石甜莓</a></span>
                            </td>
                            <td>
                                <span class="day-number">5</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E8%89%BE%E5%88%A9%E6%AC%A7%E7%89%B9" target="_blank">艾利欧特</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 石榴, 鸭毛, 龙虾，蟹黄糕，鱿鱼墨汁，椰汁汤，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 章鱼，鱿鱼，所有普遍喜欢的礼物（除了苋菜、彩虹贝壳和披萨），所有水果（除了石榴和美洲大树莓），所有的书</div>
                                    </div>
                                </span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">6</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">7</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                        <tr>
                            <!-- 在秋季日历的第8-11日添加采集事件 -->
                            <td>
                                <span class="day-number">8</span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/黑莓" target="_blank">黑莓</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">9</span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/黑莓" target="_blank">黑莓</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">10</span>
                                <span class="empty-space"></span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/黑莓" target="_blank">黑莓</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">11</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E4%B9%94%E8%BF%AA" target="_blank">乔迪</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 蔬菜杂烩, 薄煎饼, 香酥鲈鱼, 巧克力蛋糕, 大黄派, 炒鳗鱼, 钻石，帕尔玛奶酪茄子，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 所有普遍喜欢的礼物（除了蒜），所有蛋（除了虚空蛋），所有水果（除了香味浆果），所有奶类</div>
                                    </div>
                                </span>
                                <span class="foraging-event"><a href="https://zh.stardewvalleywiki.com/黑莓" target="_blank">黑莓</a></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">12</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">13</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/阿比盖尔" target="_blank">阿比盖尔</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 黑莓脆皮饼, 巧克力蛋糕, 香辣鳗鱼, 河豚, 紫水晶, 南瓜，香蕉布丁，怪物图鉴，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 石英，蜥怪的爪子，战斗季刊，骨笛，古剑，所有普遍喜欢的礼物（除了蔬菜）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">14</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/玉米" target="_blank">玉米</a></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">15</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E6%A1%91%E8%BF%AA" target="_blank">桑迪</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 黄水仙, 甜豌豆, 番红花。芒果糯米饭，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 羊奶, 大瓶羊奶, 动物毛, 石英，所有普遍喜欢的礼物，所有水果</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/南瓜" target="_blank">南瓜</a></span>
                            </td>
                            <td>
                                <span class="day-number">16</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/%E6%98%9F%E9%9C%B2%E8%B0%B7%E5%B1%95%E8%A7%88%E4%BC%9A" target="_blank">星露谷展览会</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/玫瑰仙子" target="_blank">玫瑰仙子</a></span>
                            </td>
                            <td>
                                <span class="day-number">17</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">18</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E7%8E%9B%E5%A6%AE" target="_blank">玛妮</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span>  粉红蛋糕, 农夫午餐, 南瓜派, 钻石，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 石英，星露谷年历，所有普遍喜欢的礼物，所有蛋类（除了虚空蛋），所有奶类</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/葡萄" target="_blank">葡萄</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/山药" target="_blank">山药</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/西兰花" target="_blank">西兰花</a></span>
                            </td>
                            <td>
                                <span class="day-number">19</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">20</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/洋蓟" target="_blank">洋蓟</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/向日葵" target="_blank">向日葵</a></span>
                            </td>
                            <td>
                                <span class="day-number">21</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/苋菜" target="_blank">苋菜</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/蔓越莓" target="_blank">蔓越莓</a></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">22</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/甜菜" target="_blank">甜菜</a></span>
                            </td>
                            <td>
                                <span class="day-number">23</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/茄子" target="_blank">茄子</a></span>
                            </td>
                            <td>
                                <span class="day-number">24</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E4%B9%94%E6%B2%BB" target="_blank">乔治</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 炒蘑菇, 韭葱，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 黄水仙，所有普遍喜欢的礼物（除了花）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/小白菜" target="_blank">小白菜</a></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/小麦" target="_blank">小麦</a></span>
                            </td>
                            <td>
                                <span class="day-number">25</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">26</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">27</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/%E4%B8%87%E7%81%B5%E8%8A%82" target="_blank">万灵节</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">28</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- 冬季日历 -->
            <div id="winter-calendar" class="tab-content" style="display:none;">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>星期一</th>
                            <th>星期二</th>
                            <th>星期三</th>
                            <th>星期四</th>
                            <th>星期五</th>
                            <th>星期六</th>
                            <th>星期日</th>
                        </tr>
                    </thead>
                    <tbody class="shop-row">
                        <td>
                            <span class="oasis-shop">椰子/200G（限10）<br>大号木屋地毯/2000G</span>
                            <span class="desert-merchant">3干草/1万象晶球</span>
                            <span class="krobus-shop">史莱姆泥/10G（限50）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">仙人掌果子/150G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">纤维/5石头</span>
                            <span class="krobus-shop">万象晶球/300G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">万象晶球/500G（限3）<br>长版《翡翠山》/5000G</span>
                            <span class="desert-merchant">布料/3海蓝宝石</span>
                            <span class="krobus-shop">鱼或磁铁/200G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级生长激素/80G<br>古典地毯/2500G</span>
                            <span class="desert-merchant">魔法糖冰棍/3五彩碎片（限1）</span>
                            <span class="krobus-shop">混合种子/30G（限10）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">蜂蜜/200G<br>大号绿色地毯/2500G</span>
                            <span class="desert-merchant">奶酪/1绿宝石</span>
                            <span class="krobus-shop">铱制洒水器/10000G（限1）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">高级保湿土壤/200G<br>壁挂灯/500G</span>
                            <span class="desert-merchant">春季种子/2夏季种子<br>夏季种子/2秋季种子<br>秋季种子/2冬季种子<br>冬季种子/2春季种子</span>
                            <span class="krobus-shop">菜肴/50-500G（限5）</span>
                        </td>
                        <td>
                            <span class="oasis-shop">冰淇淋/240G<br>棕色长沙发/3000G</span>
                            <span class="desert-merchant">楼梯/1翡翠</span>
                            <span class="krobus-shop">蝙蝠翅膀/30G（限10）</span>
                        </td>
                    </tbody>
                    <tbody>
                        <tr>
                            <td>
                                <span class="day-number">1</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/科罗布斯" target="_blank">科罗布斯</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 钻石, 铱锭, 野山葵, 南瓜, 虚无蛋，虚空蛋黄酱，怪物图鉴，怪兽香水，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 金锭, 石英，海泡布丁，奇怪的小面包，所有普遍喜欢的礼物（除了生命药水和不包括海泡布丁、奇怪的小面包在内的所有菜品）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">2</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">3</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/莱纳斯" target="_blank">莱纳斯</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 蓝莓千层酥, 海之菜肴, 椰子, 仙人掌果子, 山药，小巷自助餐，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 鸡油菌，普通蘑菇，黄水仙，蒲公英，姜，榛子，冬青树，韭葱，熔岩菇，羊肚菌，紫蘑菇，雪山药，大葱，野山葵，冬根，所有普遍喜欢的礼物（除了财宝箱、可采集矿物、不包括钻石和五彩碎片在内的宝石），所有蛋（除了虚空蛋），所有奶类，所有水果（除了仙人掌果子和椰子）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">4</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">5</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">6</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">7</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%8D%A1%E6%B4%9B%E7%90%B3" target="_blank">卡洛琳</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 鱼肉卷, 夏季亮片，绿茶，热带咖喱，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 黄水仙，茶叶，野山葵，所有普遍喜欢的礼物（除了苋菜、鸭蛋黄酱、蛋黄酱）</div>
                                    </div>
                                </span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">8</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/%E5%86%B0%E9%9B%AA%E8%8A%82" target="_blank">冰雪节</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">9</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">10</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%A1%9E%E5%B7%B4%E6%96%AF%E8%92%82%E5%AE%89" target="_blank">塞巴斯蒂安</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 泪晶，黑曜石，南瓜汤，生鱼片，虚空蛋，青蛙蛋，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 战斗季刊，比目鱼，怪物图鉴，石英，所有普遍喜欢的礼物（除了完美早餐、农夫午餐、花、煎蛋卷、椰林飘香、不包括咖啡和绿茶和油在内的所有工匠物品）</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">11</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">12</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/鱿鱼节" target="_blank">鱿鱼节</a></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">13</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/鱿鱼节" target="_blank">鱿鱼节</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">14</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%93%88%E7%BB%B4" target="_blank">哈维</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 咖啡, 腌菜，巨无霸餐，松露油，果酒，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 鸡油菌，普通蘑菇，黄水仙，蒲公英，鸭蛋，鸭毛，姜，羊奶，榛子，冬青树，大瓶羊奶，韭葱，熔岩菇，羊肚菌，紫蘑菇，石英，雪山药，大葱，野山葵，冬根，所有普遍喜欢的礼物（除了奶酪，山羊奶酪和以下菜肴：蓝莓千层酥、巧克力蛋糕、饼干、红莓酱、炒蘑菇、琉璃山药、薯饼、冰淇淋、薄煎饼、粉红蛋糕、披萨、大黄派、大米布丁），所有水果（除了美洲大树莓和香味浆果）</div>
                                    </div>
                                </span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">15</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/夜市" target="_blank">夜市</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">16</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/夜市" target="_blank">夜市</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">17</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/夜市" target="_blank">夜市</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">18</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">19</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">20</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E8%89%BE%E8%8A%99%E7%90%B3" target="_blank">艾芙琳</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 巧克力蛋糕, 塞料面包, 甜菜, 郁金香, 玫瑰仙子, 钻石，葡萄干，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 黄水仙，破损的眼镜，蛤，鸟蛤，珊瑚，蚌，鹦鹉螺，牡蛎，海胆，所有普遍喜欢的礼物（除了炒鳗鱼、蒜、生鱼寿司、生鱼片、香辣鳗鱼、鳟鱼汤），所有奶类</div>
                                    </div>
                                </span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">21</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="day-number">22</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="crop-planting"><a href="https://zh.stardewvalleywiki.com/霜瓜" target="_blank">霜瓜</a></span>
                            </td>
                            <td>
                                <span class="day-number">23</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">24</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">25</span>
                                <span class="festival"><a href="https://zh.stardewvalleywiki.com/%E5%86%AC%E6%97%A5%E6%98%9F%E7%9B%9B%E5%AE%B4" target="_blank">冬日星盛宴</a></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">26</span>
                                <span class="empty-space"></span>
                                <span class="birthday">
                                    <a href="https://zh.stardewvalleywiki.com/%E5%85%8B%E6%9E%97%E7%89%B9" target="_blank">克林特</a>
                                    <div class="birthday-tooltip">
                                        <div class="favorite-items"><span class="favorite-title">最爱:</span> 水煮洋蓟, 意式蕨菜炖饭, 翡翠, 海蓝宝石, 红宝石, 紫水晶, 黄水晶, 绿宝石, 金锭, 铱锭, 万象晶球，所有普遍最爱的礼物</div>
                                        <div class="liked-items"><span class="liked-title">喜欢:</span> 铜锭, 铁锭, 采矿月刊，所有普遍喜欢的礼物（除了花）</div>
                                    </div>
                                </span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                            <td>
                                <span class="day-number">27</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                            </td>
                            <td>
                                <span class="day-number">28</span>
                                <span class="empty-space"></span>
                                <span class="empty-space"></span>
                                <span class="travel-cart">旅行货车</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <button class="export-btn" onclick="exportToExcel()">导出为Excel</button>

    <script>
        // 在页面加载时显示春季标签
        window.onload = function() {
            showTab('spring');
        };
        
        // 显示选中的选项卡
        function showTab(season) {
            // 隐藏所有选项卡内容
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // 取消所有选项卡按钮的激活状态
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // 显示选中的选项卡内容
            document.getElementById(season + '-calendar').style.display = 'block';
            
            // 激活选中的选项卡按钮
            event.currentTarget.classList.add('active');
            
            // 更新商店行的显示状态
            updateShopRowDisplay();
        }
        
        // 其余JavaScript代码保持不变...
    </script>

    <script>
        // 显示选中的选项卡
        function showTab(season) {
            // 隐藏所有选项卡内容
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // 取消所有选项卡按钮的激活状态
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // 显示选中的选项卡内容
            document.getElementById(season + '-calendar').style.display = 'block';
            
            // 激活选中的选项卡按钮
            event.currentTarget.classList.add('active');
        }
        
        // 导出为Excel功能
        function exportToExcel() {
            // 创建一个工作簿
            let wb = XLSX.utils.book_new();
            
            // 获取所有季节的日历表格
            const seasons = ['spring', 'summer', 'fall', 'winter'];
            
            seasons.forEach(season => {
                let table = document.getElementById(season + '-calendar').getElementsByTagName('table')[0];
                if (table) {
                    // 创建表格副本，移除商店行
                    let tableClone = table.cloneNode(true);
                    let shopRow = tableClone.querySelector('.shop-row');
                    if (shopRow) {
                        shopRow.remove();
                    }
                    
                    let ws = XLSX.utils.table_to_sheet(tableClone);
                    XLSX.utils.book_append_sheet(wb, ws, season.charAt(0).toUpperCase() + season.slice(1));
                }
            });
            
            // 导出Excel文件
            XLSX.writeFile(wb, "星露谷物语日历.xlsx");
        }
        
        // 初始化显示控制
        document.getElementById('showOasis').addEventListener('change', function() {
            document.querySelectorAll('.oasis-shop').forEach(el => {
                el.style.display = this.checked ? 'block' : 'none';
            });
        });
        
        document.getElementById('showDesert').addEventListener('change', function() {
            document.querySelectorAll('.desert-merchant').forEach(el => {
                el.style.display = this.checked ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>                <!-- 夏季日历内容 -->
            </div>
            
            <div id="fall-calendar" class="tab-content" style="display:none;">
                <!-- 秋季日历内容 -->
            </div>
            
            <div id="winter-calendar" class="tab-content" style="display:none;">
                <!-- 冬季日历内容 -->
            </div>
        </div>
        
        <button class="export-btn" onclick="exportToExcel()">导出为Excel</button>
        
<footer>
    <div class="footer-info">星露谷物语四季日历 © 2025 | 仅适用于星露谷物语1.6.15版本</div>
    <div class="footer-info">
        <a href="https://www.xiaoheihe.cn/bbs/user_profile_share?user_id=1c5068f55899&h_src=heyboxapp" target="_blank">小黑盒@ssrspd33</a> | 
        <a href="https://space.bilibili.com/481004146?spm_id_from=333.1007.0.0" target="_blank">B站@叫池子就好</a> | 
        <a href="https://github.com/Ivan0533" target="_blank">GitHub@Ivan0533</a>
    </div>
    <div class="footer-info">开源项目，免费下载使用</div>
</footer>
    </div>

    <script>
        // 显示选中的选项卡
        function showTab(season) {
            // 隐藏所有选项卡内容
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // 取消所有选项卡按钮的激活状态
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // 显示选中的选项卡内容
            document.getElementById(season + '-calendar').style.display = 'block';
            
            // 激活选中的选项卡按钮
            event.currentTarget.classList.add('active');
            
            // 更新商店行的显示状态
            updateShopRowDisplay();
        }
        
        // 导出为Excel功能
        function exportToExcel() {
            // 创建一个工作簿
            let wb = XLSX.utils.book_new();
            
            // 获取所有季节的日历表格
            const seasons = ['spring', 'summer', 'fall', 'winter'];
            
            seasons.forEach(season => {
                let table = document.getElementById(season + '-calendar').getElementsByTagName('table')[0];
                if (table) {
                    // 创建表格副本，移除商店行
                    let tableClone = table.cloneNode(true);
                    let shopRow = tableClone.querySelector('.shop-row');
                    if (shopRow) {
                        shopRow.remove();
                    }
                    
                    let ws = XLSX.utils.table_to_sheet(tableClone);
                    XLSX.utils.book_append_sheet(wb, ws, season.charAt(0).toUpperCase() + season.slice(1));
                }
            });
            
            // 导出Excel文件
            XLSX.writeFile(wb, "星露谷物语日历.xlsx");
        }
        
        // 更新商店行的显示状态
        function updateShopRowDisplay() {
            const showOasis = document.getElementById('showOasis').checked;
            const showDesert = document.getElementById('showDesert').checked;
            
            // 获取当前显示的日历
            const visibleCalendar = document.querySelector('.tab-content:not([style*="display: none"])');
            if (!visibleCalendar) return;
            
            const shopRow = visibleCalendar.querySelector('.shop-row');
            if (!shopRow) return;
            
            // 如果两者都不显示，则隐藏整个商店行
            if (!showOasis && !showDesert) {
                shopRow.style.display = 'none';
            } else {
                shopRow.style.display = '';
                
                // 更新单个商店项目的显示状态
                shopRow.querySelectorAll('.oasis-shop').forEach(el => {
                    el.style.display = showOasis ? 'block' : 'none';
                });
                
                shopRow.querySelectorAll('.desert-merchant').forEach(el => {
                    el.style.display = showDesert ? 'block' : 'none';
                });
            }
        }
        
        // 初始化显示控制
        document.getElementById('showOasis').addEventListener('change', function() {
            document.querySelectorAll('.oasis-shop').forEach(el => {
                el.style.display = this.checked ? 'block' : 'none';
            });
            updateShopRowDisplay();
        });
        
        document.getElementById('showDesert').addEventListener('change', function() {
            document.querySelectorAll('.desert-merchant').forEach(el => {
                el.style.display = this.checked ? 'block' : 'none';
            });
            updateShopRowDisplay();
        });

        document.getElementById('showKrobus').addEventListener('change', function() {
            document.querySelectorAll('.krobus-shop').forEach(el => {
                el.style.display = this.checked ? 'block' : 'none';
            });
            updateShopRowDisplay();
        });
        
        // 初始化页面
        window.addEventListener('load', function() {
            // 初始更新商店行显示状态
            updateShopRowDisplay();

            document.getElementById('showBirthday').checked = true;
            document.getElementById('showFestival').checked = true;
            document.getElementById('showTravelCart').checked = true;
        });

// 添加作物种植时间显示控制
document.getElementById('showCropPlanting').addEventListener('change', function() {
    document.querySelectorAll('.crop-planting').forEach(el => {
        el.style.display = this.checked ? 'block' : 'none';
    });
    updateShopRowDisplay(); // 确保更新显示
});

// 修改 updateShopRowDisplay 函数，添加作物显示控制
function updateShopRowDisplay() {
    const showOasis = document.getElementById('showOasis').checked;
    const showDesert = document.getElementById('showDesert').checked;
    const showCrop = document.getElementById('showCropPlanting').checked;
    
    // 获取当前显示的日历
    const visibleCalendar = document.querySelector('.tab-content:not([style*="display: none"])');
    if (!visibleCalendar) return;
    
    const shopRow = visibleCalendar.querySelector('.shop-row');
    if (!shopRow) return;
    
    // 如果两者都不显示，则隐藏整个商店行
    if (!showOasis && !showDesert) {
        shopRow.style.display = 'none';
    } else {
        shopRow.style.display = '';
        
        // 更新单个商店项目的显示状态
        shopRow.querySelectorAll('.oasis-shop').forEach(el => {
            el.style.display = showOasis ? 'block' : 'none';
        });
        
        shopRow.querySelectorAll('.desert-merchant').forEach(el => {
            el.style.display = showDesert ? 'block' : 'none';
        });
    }
    
    // 更新作物显示状态
    document.querySelectorAll('.crop-planting').forEach(el => {
        el.style.display = showCrop ? 'block' : 'none';
    });
}

// 添加采集事件显示控制
document.getElementById('showForaging').addEventListener('change', function() {
    document.querySelectorAll('.foraging-event').forEach(el => {
        el.style.display = this.checked ? 'block' : 'none';
    });
});

// 修改 updateShopRowDisplay 函数，添加采集事件显示控制
function updateShopRowDisplay() {
    const showOasis = document.getElementById('showOasis').checked;
    const showDesert = document.getElementById('showDesert').checked;
    const showCrop = document.getElementById('showCropPlanting').checked;
    const showForaging = document.getElementById('showForaging').checked;
    
    // 获取当前显示的日历
    const visibleCalendar = document.querySelector('.tab-content:not([style*="display: none"])');
    if (!visibleCalendar) return;
    
    const shopRow = visibleCalendar.querySelector('.shop-row');
    if (!shopRow) return;
    
    // 如果两者都不显示，则隐藏整个商店行
    if (!showOasis && !showDesert) {
        shopRow.style.display = 'none';
    } else {
        shopRow.style.display = '';
        
        // 更新单个商店项目的显示状态
        shopRow.querySelectorAll('.oasis-shop').forEach(el => {
            el.style.display = showOasis ? 'block' : 'none';
        });
        
        shopRow.querySelectorAll('.desert-merchant').forEach(el => {
            el.style.display = showDesert ? 'block' : 'none';
        });
    }
    
    // 更新作物显示状态
    document.querySelectorAll('.crop-planting').forEach(el => {
        el.style.display = showCrop ? 'block' : 'none';
    });
    
    // 更新采集事件显示状态
    document.querySelectorAll('.foraging-event').forEach(el => {
        el.style.display = showForaging ? 'block' : 'none';
    });
}

// 添加角色生日显示控制
document.getElementById('showBirthday').addEventListener('change', function() {
    document.querySelectorAll('.birthday').forEach(el => {
        el.style.display = this.checked ? 'block' : 'none';
    });
});

// 添加节日活动显示控制
document.getElementById('showFestival').addEventListener('change', function() {
    document.querySelectorAll('.festival').forEach(el => {
        el.style.display = this.checked ? 'block' : 'none';
    });
});

// 添加旅行货车显示控制
document.getElementById('showTravelCart').addEventListener('change', function() {
    document.querySelectorAll('.travel-cart').forEach(el => {
        el.style.display = this.checked ? 'block' : 'none';
    });
});

// 更新updateShopRowDisplay函数，添加新的显示控制
function updateShopRowDisplay() {
    const showOasis = document.getElementById('showOasis').checked;
    const showDesert = document.getElementById('showDesert').checked;
    const showKrobus = document.getElementById('showKrobus').checked;
    const showCrop = document.getElementById('showCropPlanting').checked;
    const showForaging = document.getElementById('showForaging').checked;
    const showBirthday = document.getElementById('showBirthday').checked;
    const showFestival = document.getElementById('showFestival').checked;
    const showTravelCart = document.getElementById('showTravelCart').checked;
    
    // 获取当前显示的日历
    const visibleCalendar = document.querySelector('.tab-content:not([style*="display: none"])');
    if (!visibleCalendar) return;
    
    const shopRow = visibleCalendar.querySelector('.shop-row');
    if (!shopRow) return;
    
    // 如果两者都不显示，则隐藏整个商店行
    if (!showOasis && !showDesert && !showKrobus) {
        shopRow.style.display = 'none';
    } else {
        shopRow.style.display = '';
        
        // 更新单个商店项目的显示状态
        shopRow.querySelectorAll('.oasis-shop').forEach(el => {
            el.style.display = showOasis ? 'block' : 'none';
        });
        
        shopRow.querySelectorAll('.desert-merchant').forEach(el => {
            el.style.display = showDesert ? 'block' : 'none';
        });

        shopRow.querySelectorAll('.krobus-shop').forEach(el => {
            el.style.display = showKrobus ? 'block' : 'none';
        });
    }
    
    // 更新作物显示状态
    document.querySelectorAll('.crop-planting').forEach(el => {
        el.style.display = showCrop ? 'block' : 'none';
    });
    
    // 更新采集事件显示状态
    document.querySelectorAll('.foraging-event').forEach(el => {
        el.style.display = showForaging ? 'block' : 'none';
    });
    
    // 更新角色生日显示状态
    document.querySelectorAll('.birthday').forEach(el => {
        el.style.display = showBirthday ? 'block' : 'none';
    });
    
    // 更新节日活动显示状态
    document.querySelectorAll('.festival').forEach(el => {
        el.style.display = showFestival ? 'block' : 'none';
    });
    
    // 更新旅行货车显示状态
    document.querySelectorAll('.travel-cart').forEach(el => {
        el.style.display = showTravelCart ? 'block' : 'none';
    });
}

// 修复提示框显示不全的问题 - 限制在日历容器内
function fixTooltipPosition() {
    document.querySelectorAll('.birthday').forEach(birthday => {
        const tooltip = birthday.querySelector('.birthday-tooltip');
        if (!tooltip) return;
        
        // 移除之前的位置类
        tooltip.classList.remove('right-edge', 'left-edge', 'top-edge');
        
        // 显示工具提示以计算其尺寸
        tooltip.style.display = 'block';
        
        // 获取日历容器
        const calendarContainer = document.querySelector('.calendar-container');
        const calendarRect = calendarContainer.getBoundingClientRect();
        
        // 获取元素位置和尺寸
        const rect = birthday.getBoundingClientRect();
        const tooltipRect = tooltip.getBoundingClientRect();
        
        // 计算相对于日历容器的位置
        const relativeLeft = rect.left - calendarRect.left;
        const relativeRight = calendarRect.right - rect.right;
        const relativeTop = rect.top - calendarRect.top;
        const relativeBottom = calendarRect.bottom - rect.bottom;
        
        // 检查是否超出日历容器的右边界
        if (relativeLeft + tooltipRect.width > calendarRect.width) {
            tooltip.classList.add('right-edge');
        }
        
        // 检查是否超出日历容器的左边界
        if (relativeLeft - tooltipRect.width < 0) {
            tooltip.classList.add('left-edge');
        }
        
        // 检查是否超出日历容器的上边界
        if (relativeTop - tooltipRect.height < 0) {
            tooltip.classList.add('top-edge');
        }
        
        // 隐藏工具提示
        tooltip.style.display = '';
    });
}

// 页面加载和调整大小时修复提示框位置
window.addEventListener('load', fixTooltipPosition);
window.addEventListener('resize', fixTooltipPosition);

// 添加鼠标悬停事件来动态调整位置
document.querySelectorAll('.birthday').forEach(birthday => {
    birthday.addEventListener('mouseenter', function() {
        // 短暂延迟以确保提示框已显示
        setTimeout(fixTooltipPosition, 10);
    });
});

    </script>
</body>
</html>